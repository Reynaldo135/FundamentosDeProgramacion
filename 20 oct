#include <iostream>
#include <cmath>
#include <conio.h> // Para _getch() y detectar teclas (solo Windows)
using namespace std;

int contarmayor(int a, int b, int c);
int sumaserie(int x);
double productos(int cantidadProductos);

int main() {
    char tecla;
    int opcion;
    int a, b, c;

    do {
        system("cls"); // Limpia pantalla (opcional)
        cout << "\n===== MENÚ DE OPCIONES =====\n";
        cout << "1. Determinar el mayor de tres números\n";
        cout << "2. Calcular la serie con ciclo For\n";
        cout << "3. Calcular el peso total de productos\n";
        cout << "\n(Presiona 'x' para salir)\n";
        cout << "Opción: ";
        cin >> opcion;

        switch (opcion) {
            case 1: {
                cout << "\nIntroduce el primer número: ";
                cin >> a;
                cout << "Introduce el segundo número: ";
                cin >> b;
                cout << "Introduce el tercer número: ";
                cin >> c;
                cout << "El mayor número es: " << contarmayor(a, b, c) << endl;
                break;
            }

            case 2: {
                int x;
                cout << "\nIntroduce el valor de x: ";
                cin >> x;
                cout << "La suma total de la serie es: " << sumaserie(x) << endl;
                break;
            }

            case 3: {
                int cantidadProductos;
                cout << "\n¿Cuántos productos deseas ingresar? ";
                cin >> cantidadProductos;
                cout << "El peso total de los productos es: " 
                     << productos(cantidadProductos) << " gramos.\n";
                break;
            }

            default:
                cout << "Opción no válida. Intenta de nuevo.\n";
                break;
        }

        cout << "\nPresiona cualquier tecla para continuar o 'x' para salir...";
        tecla = _getch(); // Espera una tecla sin necesidad de presionar Enter

    } while (tecla != 'x' && tecla != 'X');

    cout << "\nPrograma terminado. ¡Hasta luego!\n";
    return 0;
}

int contarmayor(int a, int b, int c) {
    if (a >= b && a >= c)
        return a;
    else if (b >= a && b >= c)
        return b;
    else
        return c;
}

int sumaserie(int x) {
    int s = 0;
    for (int i = 1; i <= 10; i++) {
        s += pow(x, i);
    }
    return s;
}

double productos(int cantidadProductos) {
    double pesoTotal = 0.0;
    for (int i = 1; i <= cantidadProductos; i++) {
        double peso;
        cout << "Ingresa el peso del producto " << i << " (en gramos): ";
        cin >> peso;
        pesoTotal += peso;
    }
    return pesoTotal;
}
